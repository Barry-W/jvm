第七章 虚拟机类加载机制

概述：
虚拟机把描述类的数据从Class文件加载到内存，并对数据进行校验、转换解析和初始化，最终形成可以被虚拟机直接使用的Java类型，这就是虚拟机的类加载机制。


类加载时机
类加载从内存开始到结束，整个生命周期包括：加载、验证、准备、解析、初始化、使用和卸载。
其中，加载、验证、准备、初始化、和卸载这五个阶段的顺序是确定的。

其中，虚拟机初始化限定条件为：
1.遇到new、getstatic、putstatic或invokestatic这4条字节码指令时，如果类没有进行初始化，则需要先触发其初始化。
2.使用java.lang.reflect包的方法对类进行反射调用的时候，如果类没有初始化，则需要先触发其父类的初始化。
3.当初始化一个类的时候，如果发现其父类还没有初始化，需要先触发其父类初始化。
4.当虚拟机启动时，用户需要指定一个执行的主类，虚拟机会先初始化这个类。


















